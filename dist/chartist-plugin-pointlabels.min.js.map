{"version":3,"sources":["chartist-plugin-pointlabels.js"],"names":["root","factory","define","amd","returnExportsGlobal","exports","module","this","window","document","Chartist","defaultOptions","labelClass","labelOffset","x","y","textAnchor","labelInterpolationFnc","noop","labelFormat","hideXLabel","hideAllLabels","plugins","ctPointLabels","options","extend","chart","Line","on","data","type","group","elem","style","text","undefined","value","Bar","barHorizontalCenter","barVerticalCenter","label","x1","element","width","y1","height","attr","Svg","addClass","text-anchor","append"],"mappings":";;;;;;CAAC,SAAUA,EAAMC,GACO,kBAAXC,SAAyBA,OAAOC,IAEzCD,UAAW,WACT,MAAQF,GAAKI,oBAAsBH,MAET,gBAAZI,SAIhBC,OAAOD,QAAUJ,IAEjBD,EAAK,kCAAoCC,KAE3CM,KAAM,WAmEN,MA5DC,UAASC,EAAQC,EAAUC,GAC1B,YAEA,IAAIC,IACFC,WAAY,WACZC,aACEC,EAAG,EACHC,EAAG,KAELC,WAAY,SACZC,sBAAuBP,EAASQ,KAChCC,YAAaT,EAASQ,KACtBE,YAAY,EACZC,eAAe,EAGjBX,GAASY,QAAUZ,EAASY,YAC5BZ,EAASY,QAAQC,cAAgB,SAASC,GAIxC,MAFAA,GAAUd,EAASe,UAAWd,EAAgBa,GAEvC,SAAuBE,IACxBF,EAAQH,eAAiBK,YAAiBhB,GAASiB,MACrDD,EAAME,GAAG,OAAQ,SAASC,GACP,UAAdA,EAAKC,MACND,EAAKE,MAAMC,KAAK,QACdlB,EAAGe,EAAKf,EAAIU,EAAQX,YAAYC,EAChCC,EAAGc,EAAKd,EAAIS,EAAQX,YAAYE,EAChCkB,MAAO,gBAAkBT,EAAQR,YAChCQ,EAAQZ,YAAYsB,KAAKV,EAAQP,sBAAuBO,EAAQJ,YAA+Be,SAAjBN,EAAKO,MAAMtB,EAAmBe,EAAKO,MAAMrB,EAAIc,EAAKO,MAAMtB,EAAI,KAAOe,EAAKO,MAAMrB,OAKjKS,EAAQH,eAAiBK,YAAiBhB,GAAS2B,KACrDX,EAAME,GAAG,OAAQ,SAAUC,GACzB,GAAIS,GAAqBC,EAAmBC,EAAOJ,CACnD,OAAkB,QAAdP,EAAKC,OACPQ,EAAsBT,EAAKY,GAA6B,GAAvBZ,EAAKa,QAAQC,QAC9CJ,EAAoBV,EAAKe,GAA8B,GAAxBf,EAAKa,QAAQG,SAAiB,GAC7DT,EAAQP,EAAKa,QAAQI,KAAK,YACZ,MAAVV,IACFI,EAAQ,GAAI9B,GAASqC,IAAI,QACzBP,EAAMN,KAAKV,EAAQP,sBAAsBmB,IACzCI,EAAMQ,SAAS,eACfR,EAAMM,MACJhC,EAAGwB,EACHvB,EAAGwB,EACHU,cAAe,WAEVpB,EAAKE,MAAMmB,OAAOV,IAb7B,YAqBRhC,OAAQC,SAAUC,UAEbA,SAASY,QAAQC","file":"chartist-plugin-pointlabels.min.js","sourcesContent":["(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], function () {\n      return (root.returnExportsGlobal = factory());\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like enviroments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    root['Chartist.plugins.ctPointLabels'] = factory();\n  }\n}(this, function () {\n\n  /**\n   * Chartist.js plugin to display a data label on top of the points in a line chart.\n   *\n   */\n  /* global Chartist */\n  (function(window, document, Chartist) {\n    'use strict';\n\n    var defaultOptions = {\n      labelClass: 'ct-label',\n      labelOffset: {\n        x: 0,\n        y: -10\n      },\n      textAnchor: 'middle',\n      labelInterpolationFnc: Chartist.noop,\n      labelFormat: Chartist.noop,\n      hideXLabel: false,\n      hideAllLabels: false\n    };\n\n    Chartist.plugins = Chartist.plugins || {};\n    Chartist.plugins.ctPointLabels = function(options) {\n\n      options = Chartist.extend({}, defaultOptions, options);\n\n      return function ctPointLabels(chart) {\n        if(!options.hideAllLabels && chart instanceof Chartist.Line) {\n          chart.on('draw', function(data) {\n            if(data.type === 'point') {\n              data.group.elem('text', {\n                x: data.x + options.labelOffset.x,\n                y: data.y + options.labelOffset.y,\n                style: 'text-anchor: ' + options.textAnchor\n              }, options.labelClass).text(options.labelInterpolationFnc((options.hideXLabel || data.value.x === undefined) ? data.value.y : data.value.x + ', ' + data.value.y));\n            }\n          });\n        }\n\n        if(!options.hideAllLabels && chart instanceof Chartist.Bar) {\n          chart.on('draw', function (data) {\n            var barHorizontalCenter, barVerticalCenter, label, value;\n            if (data.type === 'bar') {\n              barHorizontalCenter = data.x1 + (data.element.width() * .5);\n              barVerticalCenter = data.y1 + (data.element.height() * -1) - 10;\n              value = data.element.attr('ct:value');\n              if (value !== '0') {\n                label = new Chartist.Svg('text');\n                label.text(options.labelInterpolationFnc(value));\n                label.addClass('ct-barlabel');\n                label.attr({\n                  x: barHorizontalCenter,\n                  y: barVerticalCenter,\n                  'text-anchor': 'middle'\n                });\n                return data.group.append(label);\n              }\n            }\n          });\n        }\n      };\n    };\n\n  }(window, document, Chartist));\n\n  return Chartist.plugins.ctPointLabels;\n\n}));\n"]}